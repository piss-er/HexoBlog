---
title: æ ˆå’Œé˜Ÿåˆ—(ä½¿ç”¨C++å®ç°)
categories:
- æŠ€æœ¯ç¬”è®°
tags:
- C++
- åŠ›æ‰£åˆ·é¢˜
- Javaè½¬C++
- æ•°æ®ç»“æ„
- ç®—æ³•
---


### ğŸ˜²ç¤ºä¾‹

> æ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡º(åè¿›å…ˆå‡º)çš„ç»“æ„, ä¸ä¹‹å¯¹åº”, é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡º(åè¿›åå‡º)çš„ç»“æ„

>STLä¸­çš„æ ˆçš„åº•å±‚å®ç°å¯ä»¥æ˜¯vectorï¼Œdequeï¼Œlist

> å¯ä»¥ä½¿ç”¨ä¸‹é¢è¯­å¥æŒ‡å®šæ ˆçš„åº•å±‚å®ç°
```cpp
std::stack<int, std::vector<int> > third;  // ä½¿ç”¨vectorä¸ºåº•å±‚å®¹å™¨çš„æ ˆ
```

> ç¼ºçœçŠ¶æ€ä¸‹å°†ä¼šä½¿ç”¨dequeä¸ºæ ˆçš„åº•å±‚å®ç°
> dequeæ˜¯ä¸€ä¸ªåŒå‘é˜Ÿåˆ—ï¼Œåªè¦å°ä½ä¸€æ®µï¼Œåªå¼€é€šå¦ä¸€ç«¯å°±å¯ä»¥å®ç°æ ˆçš„é€»è¾‘äº†

> æ ˆçš„å¸¸ç”¨æ–¹æ³•ç¤ºä¾‹

```c++
#include <iostream>
#include <stack>

int main() {
    std::stack<int> myStack;

    // å…¥æ ˆ
    myStack.push(1);
    myStack.push(2);
    myStack.push(3);

    // è®¿é—®æ ˆé¡¶å…ƒç´ 
    std::cout << "Top element: " << myStack.top() << std::endl;

    // å‡ºæ ˆ
    myStack.pop();

    // æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º
    if (myStack.empty()) {
        std::cout << "Stack is empty" << std::endl;
    } else {
        std::cout << "Stack is not empty" << std::endl;
    }

    return 0;
}
```

> é˜Ÿåˆ—çš„å¸¸ç”¨æ–¹æ³•ç¤ºä¾‹

```c++
#include <iostream>
#include <queue>

int main() {
    std::queue<int> myQueue;

    // å…¥é˜Ÿ
    myQueue.push(1);
    myQueue.push(2);
    myQueue.push(3);

    // è®¿é—®é˜Ÿé¦–å…ƒç´ 
    std::cout << "Front element: " << myQueue.front() << std::endl;

    // å‡ºé˜Ÿ
    myQueue.pop();

    // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
    if (myQueue.empty()) {
        std::cout << "Queue is empty" << std::endl;
    } else {
        std::cout << "Queue is not empty" << std::endl;
    }

    return 0;
}
```
### ğŸ¤”ä¸€äº›ç–‘é—®è§£ç­”

#### `pop()`å‡½æ•°æ˜¯å¦å¯ä»¥è¿”å›å€¼?
> C++ä¸­pop()ä¸èƒ½è¿”å›å€¼, åªæ˜¯åˆ é™¤ä¸€ä¸ªå…ƒç´ è€Œå·², è¿™ä¹Ÿç¬¦åˆæœ€åŸºæœ¬çš„å¼¹å‡ºåŠŸèƒ½, æƒ³è¦æŸ¥çœ‹å…ƒç´ , æ ˆ`stack`ä½¿ç”¨`top()`, é˜Ÿåˆ—`queue`ä½¿ç”¨`front()`

### ğŸ’ªåŠ›æ‰£åˆ·é¢˜

#### 232. ç”¨æ ˆå®ç°é˜Ÿåˆ—

[åŠ›æ‰£ä¼ é€é—¨](https://leetcode.cn/problems/implement-queue-using-stacks/)

> å…¥æ ˆæ“ä½œéƒ½æ”¾åˆ°`stack_in`é‡Œé¢, æŸ¥çœ‹æ ˆé¡¶æˆ–è€…å¼¹å‡ºæ“ä½œ, éƒ½æ”¾åˆ°å¦ä¸€ä¸ª`stack_out`ä¸­, ç¬¬äºŒä¸ªæ ˆç”±ç¬¬ä¸€ä¸ªæ ˆä¸€ä¸ªä¸€ä¸ªå¼¹å‡ºæ‰€å¡«å……, æ‰€å“Ÿå®ƒçš„å¼¹å‡ºé¡ºåºä½¿ç›¸åçš„, ä¸¤ä¸ªæ ˆéƒ½æ˜¯åè¿›å…ˆå‡º, ä¸¤ä¸ªæ ˆä¸²è”èµ·æ¥å°±æ˜¯å…ˆè¿›å…ˆå‡º

![](https://code-thinking.cdn.bcebos.com/gifs/232.%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97%E7%89%88%E6%9C%AC2.gif)

```cpp
class MyQueue {
public:
    stack<int> in;
    stack<int> out;
    MyQueue() {

    }
    
    void push(int x) {
        in.push(x);
    }
    
    int pop() {
        if(!out.empty()){
            int a = out.top();
            out.pop();
            return a;
        }
        else{
            int a;
            while(!in.empty()){
                a = in.top();
                in.pop();
                out.push(a);
            }
            a = out.top();
            out.pop();
            return a;
        }
    }
    
    int peek() {
        if(!out.empty())
            return out.top();
        else{
            while(!in.empty()){
                int a = in.top();
                in.pop();
                out.push(a);
            }
            return out.top();
        }
    }
    
    bool empty() {
        return in.empty() && out.empty();
    }
};

/**
 * Your MyQueue object will be instantiated and called as such:
 * MyQueue* obj = new MyQueue();
 * obj->push(x);
 * int param_2 = obj->pop();
 * int param_3 = obj->peek();
 * bool param_4 = obj->empty();
 */
```

#### 1047. åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹

[åŠ›æ‰£ä¼ é€é—¨](https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/)

```cpp
class Solution {
public:
    string removeDuplicates(string s) {
        int delete_num = 0;
        stack<char> st;
        int len = s.size();
        for(int i=0; i<len; i++){
            if(st.empty())
                st.push(s[i]);
            else if(st.top()==s[i]){
                st.pop();
                delete_num+=2;    
            }
            else
                st.push(s[i]);
        }
        s.resize(len-delete_num);
        len = s.size();
        for(int i=len-1; i>=0; i--){
            s[i] = st.top();
            st.pop();
        }
        return s;
    }
};
```

#### 20. æœ‰æ•ˆçš„æ‹¬å·

[åŠ›æ‰£ä¼ é€é—¨](https://leetcode.cn/problems/valid-parentheses/)

```cpp
class Solution {
public:
    bool isValid(string s) {
        stack<char> myStack;
        for(char a : s){
            if(a=='(' || a=='[' || a=='{')
                myStack.push(a);
            else if(myStack.empty())
            	return false;  
            else if(a==')' && myStack.top()=='(')
                myStack.pop();
            else if(a==']' && myStack.top()=='[')
                myStack.pop();
            else if(a=='}' && myStack.top()=='{')
                myStack.pop();
            else return false;
        }
        if(myStack.empty())
            return true;
        return false;
    }
};
```

#### 150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼

[åŠ›æ‰£ä¼ é€é—¨](https://leetcode.cn/problems/evaluate-reverse-polish-notation/description/)

```cpp
class Solution {
public:
    int evalRPN(vector<string>& tokens) {
        stack<int> s;               // æ ˆsç”¨äºå­˜æ•°å­—
        int len = tokens.size();    // å‘é‡é•¿åº¦
        int a,b;                    // ç”¨äºä¿å­˜å–å‡ºæ¥çš„ä¸¤ä¸ªæ•°, æå‰åˆ›å»ºå˜é‡, é˜²æ­¢åœ¨å¾ªç¯ä¸­åå¤åˆ›å»ºå˜é‡æµªè´¹æ—¶é—´
        for(int i=0; i<len; i++){
            if(tokens[i]=="+"){         // +
                a = s.top();
                s.pop();
                b = s.top();
                s.pop();
                s.push(a+b);
            }else if(tokens[i]=="-"){   // -
                a = s.top();
                s.pop();
                b = s.top();
                s.pop();
                s.push(b-a);
            }else if(tokens[i]=="*"){   // *
                a = s.top();
                s.pop();
                b = s.top();
                s.pop();
                s.push(a*b);
            }else if(tokens[i]=="/"){   // /
                a = s.top();
                s.pop();
                b = s.top();
                s.pop();
                s.push(b/a);
            }else{                      // é‡åˆ°æ•°å­—éœ€è¦è½¬æ¢
                s.push(turn_to_num(tokens[i]));
            }
        }
        return s.top();
    }
    int turn_to_num(string s){          // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—
        int start = (s[0]=='-')?1:0;    // å¦‚æœæ˜¯è´Ÿæ•°åˆ™ä»ç´¢å¼•ä¸º1çš„ä½ç½®å¼€å§‹è¡¨ç¤ºæ•°å­—éƒ¨åˆ†
        int len = s.size();             // å­—ç¬¦ä¸²é•¿åº¦
        int num = 0;                    // è®°å½•è§£æåˆ°çš„æ•°å­—, ä¼šéšç€è§£æçš„ä½æ•°å¢åŠ è€Œå¢åŠ 
        int a;                          // ç”¨äºä¿å­˜æŸä¸€ä½çš„æ•°å­—, æå‰åˆ›å»ºé˜²æ­¢åœ¨å¾ªç¯ä¸­åå¤åˆ›å»ºæµªè´¹æ—¶é—´
        for(int i=start; i<len; i++){
            a = s[i]-'0';               // ç¬¬iä½æ•°å­—
            num = num*10+a;             // num*10+aä¸ºæ–°çš„æ•°å­—
        }
        return (start==1)?(0-num):num;  // è¿”å›æ•°å­—, æ³¨æ„æ­£è´Ÿ
    }
};
```

#### 347. å‰ K ä¸ªé«˜é¢‘å…ƒç´ 

[åŠ›æ‰£ä¼ é€é—¨](https://leetcode.cn/problems/top-k-frequent-elements/)

```cpp

```